<!DOCTYPE html>
<html>
<head>
	<title>Hacker news</title>
	<script type="text/javascript" src="js/jquery.js"></script>
	<script type="text/javascript" src="js/bootstrap.min.js"></script>
	<script type="text/javascript" src="js/nav.js"></script>
	<script src="js/echarts.js"></script>
    <script src="js/dataTool.min.js"></script>
    <script src="js/world.js"></script>
	<link rel="stylesheet" type="text/css" href="css/bootstrap.min.css"></link>
	<link rel="stylesheet" type="text/css" href="css/nav.css"></link>
	
</head>
<body>
	<div id="header">
		<ul class="nav nav-pills">
  			<li id="home">Home</li>
  			<li id="rec">Recommendation</li>
  			<li id="analysis" class="active">Analysis</li>
  			<li id="username">lalala</li>
		</ul>
	</div>
	<div style="text-align:center;width:100%;height:600px;margin-top:20px;">	
		<div id="main" style="height:600px;width:100%px;margin:0 auto"></div>
	</div>
	<script type="text/javascript">
        var myChart = echarts.init(document.getElementById('main'));
        var geoCoordMap = {'surrey': [-0.341452301129091, 51.2715316], 'mexican': [4.8943899, 52.3722528], 'cayman islands': [-80.5667131, 19.5417212], 'north america': [-109.0000001, 51.0000002], 'communities': [-78.8594695258193, 43.8967733], 'london': [-0.1276473, 51.5073219], 'asian': [49.1082258, 56.1537309], 'japan': [139.2394179, 36.5748441], 'australian': [-73.9837736, 40.7512595], 'arial': [-82.6415219, 34.8459487], 'gulf': [-85.2175888, 29.9665252], 'mumbai': [72.8308337, 18.9321862], 'paris': [2.3514992, 48.8566101], 'mountain view': [-122.0820499, 37.3855745], 'punjab': [75.5004841, 30.9293211], 'united kingdom': [-3.2765752, 54.7023545], 'richmond hill': [-79.4393919, 43.880078], 'sydney': [151.2164539, -33.8548156], 'argentina': [-64.9672816, -34.9964962], 'kingdom': [-76.3960452, 43.1139558], 'australia': [134.755, -24.7761085], 'new york city': [-73.9865811, 40.7305991], 'de': [10.4234469, 51.0834196], 'virginia': [-78.492772, 37.1232245], 'warehouse': [120.545761750374, 14.89998465], 'guatemala': [-89.8988086, 15.6356088], 'oxford': [-1.2578498, 51.7520131], 'north american': [-115.6001176, 51.2013159], 'miami': [-80.1936588, 25.7742658], 'philippines': [122.7312101, 12.7503486], 'hawaii': [-157.9752029, 21.2160437], 'central america': [-54.6183864, -20.4859417], 'dallas': [-96.7968558, 32.7762719], 'missouri': [-92.5617874, 38.7604815], 'switzerland': [8.2319736, 46.7985624], 'river': [-117.254826324302, 33.8841155], 'italian': [-119.8511679, 37.465627], 'jamaica': [-77.3947692, 18.1850507], 'england': [-0.540240236617432, 52.7954791], 'santa clara': [-121.9551743, 37.3541132], 'prague': [14.4212503, 50.0874654], 'malaysia': [112.8471939, 2.3923759], 'milan': [9.1904984, 45.4667971], 'greece': [21.9877132, 38.9953683], 'portland': [-122.6741948, 45.5202471], 'canada': [-107.991707, 61.0666922], 'afghanistan': [66.2385139, 33.7680065], 'caribbean': [-98.5112499, 29.705694], 'chicago': [-87.6244211, 41.8755546], 'nepal': [84.0917515, 28.1082107], 'asia': [103.9999998, 56.0000002], 'arkansas': [-92.4479107, 35.2048883], 'dutch': [-80.6181491, 38.8050976], 'yolo county': [-121.9059, 38.7184542], 'europe': [9.9999997, 51.0000003], 'columbus': [-83.0007064, 39.9622601], 'korea': [127.937111, 35.3985008], 'iran': [52.9471344, 32.9407496], 'asu': [-57.6149681, -25.3042317], 'u.s.': [-88.73215835, 45.1895845], 'french': [-80.8706335, 37.2959541], 'bangkok': [100.8160803, 13.7538929], 'china': [104.999927, 35.000074], 'new mexico': [-105.9930069, 34.5708167], 'thailand': [100.83273, 14.8971921], 'bangalore': [77.5912997, 12.9791198], 'iraq': [44.1749775, 33.0955793], 'brighton': [-0.137406, 50.8220399], 'ukraine': [31.2718321, 49.4871968], 'casino': [153.048155, -28.8631615], 'florida': [-81.4639834, 27.7567667], 'alaska': [-149.6809089, 64.4459613], 'british': [-3.0828005, 51.7264876], 'russia': [97.7453061, 64.6863136], 'melbourne': [144.9631608, -37.8142175], 'las vegas': [-115.1492249, 36.1662859], 'dublin': [-6.2602731, 53.3497645], 'syria': [39.0494106, 34.6401861], 'austin': [-97.7436994, 30.2711286], 'milky way': [52.7448393, -7.1280387], 'pakistan': [71.247499, 30.3308401], 'alexandria': [29.894378, 31.199004], 'czech republic': [15.4749544, 49.8167003], 'portuguese': [-2.57670437450057, 51.4574301], 'ca': [-107.991707, 61.0666922], 'washington d.c.': [-77.0366455, 38.8949549], 'paradise': [-115.1734141, 36.1150858], 'united states': [-100.4458824, 39.7837304], 'austria': [13.199959, 47.2000338], 'tennessee': [-86.282008, 35.7730076], 'colombia': [-73.7838919, 2.8894434], 'spanish': [-82.4111056550296, 46.20509345], 'san francisco': [-122.4192362, 37.7792808], 'new zealand': [172.8344077, -41.500083], 'turkey': [34.9249653, 38.9597594], 'kerala': [76.5119752, 10.3529588], 'ontario': [-86.0, 50.0000002], 'bangladesh': [90.2932426, 24.4768783], 'usa': [-100.4458824, 39.7837304], 'new jersey': [-74.4041621, 40.0757384], 'france': [1.8883335, 46.603354], 'new york': [-73.9865811, 40.7305991], 'california': [-118.7559973, 36.7014631], 'ireland': [-7.9794598, 52.865196], 'italia': [12.674297, 42.6384261], 'south korea': [127.937111, 35.3985008], 'louisiana': [-92.0071259, 30.8703881], 'israel': [35.0015196, 30.8760272], 'peru': [-75.0458514, -6.8699696], "o'ahu": [-158.03640379298, 21.48349555], 'oregon': [-120.7372569, 43.9792797], 'berlin': [13.3888599, 52.5170365], 'hn': [-84.5978533, 15.0610686], 'chile': [-71.3187696, -31.7613364], 'nigeria': [7.9999721, 9.6000359], 'spain': [-4.0031039, 40.0028028], 'toronto': [-79.3849007, 43.6529206], 'ma': [-72.0323659, 42.3788774], 'tokyo': [139.294774527387, 34.2255804], 'mi': [-100.4458824, 39.7837304], 'kentucky': [-85.155141, 37.5726028], 'sweden': [14.5208584, 59.6749712], 'ghost town': [55.7641082, 24.8944466], 'uk': [-3.2765752, 54.7023545], 'l.a.': [13.0011299231673, 52.8455618], 'south carolina': [-80.4363742, 33.6874388], 'americas': [-73.1349654, -13.6154417], 'hong kong': [114.1628131, 22.2793278], 'hiroshima': [132.4518156, 34.3916058], 'mz': [34.9144977, -19.3022329], 'ghana': [-1.080027, 8.0300284], 'the netherlands': [5.53460738161551, 52.2379891], 'estonia': [25.3319078, 58.7523778], 'mexico': [-99.1333415, 19.4326009], 'peruvian': [120.9986416, 14.4475149], 'boston': [-71.0595677, 42.3604823], 'india': [78.6677428, 22.3511148], 'cape town': [18.417396, -33.9289919], 'sealand': [1.48253448492513, 51.8944001], 'chennai': [80.2838331, 13.0801721], 'seattle': [-122.3300623, 47.6038321], 'adelaide': [138.599899, -34.9274283], 'swedish': [72.7207797, 33.7709082], 'nj': [-74.4041621, 40.0757384], 'u.s': [-88.73215835, 45.1895845], 'italy': [12.674297, 42.6384261], 'south africa': [24.991639, -28.8166235], 'san diego': [-117.1627713, 32.7174209], 'scotland': [-4.1140517, 56.7861112], 'illinois': [-89.4339808, 40.0796319], 'ny': [-75.8449945, 43.1561681], 'vietnam': [108.4265113, 13.2904027], 'kolkata': [88.3476023, 22.5677459], 'korean': [-122.32705148898, 47.5974074], 'manhattan': [-73.9597221, 40.7902778], 'brazil': [-53.1999999, -10.3333332], 'singapore': [103.8520359, 1.2904753], 'iceland': [-18.1059012, 64.9841821], 'san jose': [-121.8905832, 37.3361905], 'germany': [10.4234469, 51.0834196], 'massachusetts': [-72.0323659, 42.3788774], 'silicon valley': [31.8559877, 0.7683445], 'palo alto': [-122.1634471, 37.442156], 'pennsylvania': [-77.727883, 40.9699889], 'indonesia': [114.5632032, -4.7993355], 'greek': [4.8841943, 52.3643571], 'rome': [1.215829, 6.130419], 'jail': [123.729640097924, 13.15656095], 'africa': [15.9999997, 2.0000003], 'african': [28.0039514, -26.1823356], 'atlantic': [-74.6632882, 39.5143268], 'scituate': [-70.7258739, 42.1959348], 'sg': [103.8194992, 1.357107], 'fermilab': [-88.2460156219494, 41.8422582]};

var convertData = function (data) {
    var res = [];
    for (var i = 0; i < data.length; i++) {
        var geoCoord = geoCoordMap[data[i].name];
        if (geoCoord) {
            res.push({
                name: data[i].name,
                value: geoCoord.concat(data[i].value)
            });
        }
    }
    return res;
};

option = {
    backgroundColor: '#404a59',
    title: {
        text: 'Regional News Heat',
        subtext: 'number of news refer to a city or area',
        x:'center',
        textStyle: {
            color: '#fff',
        }
    },
    tooltip: {
        trigger: 'item',
        formatter: function (params) {
            return params.name + ' : ' + params.value[2];
        }
    },
    legend: {
        orient: 'vertical',
        y: 'bottom',
        x:'right',
        data:['pm2.5'],
        textStyle: {
            color: '#fff'
        }
    },
    visualMap: {
        min: 0,
        max: 200,
        calculable: true,
        inRange: {
            color: ['#50a3ba', '#eac736', '#d94e5d']
        },
        textStyle: {
            color: '#fff'
        }
    },
    geo: {
        map: 'world',
        label: {
            emphasis: {
                show: false
            }
        },
        itemStyle: {
            normal: {
                areaColor: '#323c48',
                borderColor: '#111'
            },
            emphasis: {
                areaColor: '#2a333d'
            }
        }
    },
    series: [
        {
            name: 'pm2.5',
            type: 'scatter',
            coordinateSystem: 'geo',
            data: convertData([{name: "united states", value:125}, {name: "san francisco", value:27}, {name: "europe", value:23}, {name: "uk", value:23}, {name: "new york", value:21}, {name: "canada", value:27}, {name: "china", value:36}, {name: "india", value:19}, {name: "california", value:18}, {name: "u.s.", value:16}, {name: "silicon valley", value:15}, {name: "french", value:14}, {name: "japan", value:23}, {name: "australia", value:13}, {name: "london", value:12}, {name: "brazil", value:11}, {name: "england", value:11}, {name: "boston", value:10}, {name: "germany", value:18}, {name: "russia", value:19}, {name: "ca", value:10}, {name: "toronto", value:9}, {name: "new york city", value:9}, {name: "united kingdom", value:9}, {name: "chicago", value:9}, {name: "sg", value:8}, {name: "british", value:7}, {name: "singapore", value:7}, {name: "hong kong", value:7}, {name: "asu", value:7}, {name: "korea", value:7}, {name: "india", value:7}, {name: "new jersey", value:6}, {name: "ny", value:6}, {name: "nepal", value:6}, {name: "syria", value:6}, {name: "greece", value:6}, {name: "san diego", value:5}, {name: "iraq", value:5}, {name: "europe", value:5}, {name: "spain", value:5}, {name: "africa", value:5}, {name: "arial", value:5}, {name: "ireland", value:5}, {name: "france", value:5}, {name: "ontario", value:5}, {name: "usa", value:5}, {name: "korean", value:5}, {name: "indonesia", value:5}, {name: "italian", value:5}, {name: "asian", value:4}, {name: "paris", value:4}, {name: "jamaica", value:4}, {name: "asia", value:4}, {name: "north america", value:4}, {name: "guatemala", value:4}, {name: "malaysia", value:4}, {name: "south korea", value:4}, {name: "israel", value:4}, {name: "south africa", value:4}, {name: "peru", value:4}, {name: "pakistan", value:4}, {name: "mountain view", value:4}, {name: "washington d.c.", value:4}, {name: "surrey", value:4}, {name: "italy", value:4}, {name: "manhattan", value:4}, {name: "florida", value:4}, {name: "hn", value:4}, {name: "illinois", value:4}, {name: "greek", value:3}, {name: "de", value:3}, {name: "sweden", value:3}, {name: "chile", value:3}, {name: "kentucky", value:3}, {name: "seattle", value:3}, {name: "rome", value:3}, {name: "portuguese", value:3}, {name: "san jose", value:3}, {name: "oregon", value:3}, {name: "hiroshima", value:3}, {name: "jail", value:3}, {name: "african", value:3}, {name: "dutch", value:3}, {name: "spanish", value:3}, {name: "south carolina", value:3}, {name: "oxford", value:3}, {name: "kingdom", value:3}, {name: "brighton", value:3}, {name: "italia", value:3}, {name: "massachusetts", value:3}, {name: "ghana", value:3}, {name: "alexandria", value:3}, {name: "portland", value:3}, {name: "paradise", value:3}, {name: "colombia", value:3}, {name: "nigeria", value:3}, {name: "scotland", value:3}, {name: "palo alto", value:3}, {name: "semirestore", value:3}, {name: "sydney", value:3}, {name: "melbourne", value:3}, {name: "bangladesh", value:3}, {name: "atlantic", value:3}, {name: "tokyo", value:3}, {name: "ukraine", value:3}, {name: "casino", value:3}, {name: "alaska", value:3}, {name: "austria", value:3}, {name: "kolkata", value:3}, {name: "la", value:3}, {name: "arkansas", value:3}, {name: "austin", value:3}, {name: "dallas", value:3}, {name: "mumbai", value:3}, {name: "scituate", value:3}, {name: "ghost town", value:3}, {name: "louisiana", value:3}, {name: "miami", value:3}, {name: "punjab", value:2}, {name: "chennai", value:2}, {name: "bangkok", value:2}, {name: "berlin", value:2}, {name: "ma", value:2}, {name: "mi", value:2}, {name: "mz", value:2}, {name: "cape town", value:2}, {name: "milan", value:2}, {name: "bola vietnam", value:2}, {name: "iceland", value:2}, {name: "richmond hill", value:2}, {name: "las vegas", value:2}, {name: "mexico", value:2}, {name: "fermilab", value:2}, {name: "new zealand", value:2}, {name: "columbus", value:2}, {name: "bangalore", value:2}, {name: "estonia", value:2}, {name: "peruvian", value:2}, {name: "sealand", value:2}, {name: "adelaide", value:2}, {name: "nj", value:2}, {name: "warehouse", value:2}, {name: "vietnam", value:2}, {name: "philippines", value:2}, {name: "hawaii", value:2}, {name: "santa clara", value:2}, {name: "afghanistan", value:2}, {name: "gulf", value:2}, {name: "dublin", value:2}, {name: "australian", value:2}, {name: "swedish", value:2}, {name: "the netherlands", value:2}, {name: "turkey", value:2}, {name: "africaunited", value:2}, {name: "pennsylvania", value:2}, {name: "north american", value:2}, {name: "kerala", value:2}, {name: "virginia", value:2}, {name: "caribbean", value:2}, {name: "new mexico", value:2}, {name: "thailand", value:2}, {name: "l.a.", value:2}, {name: "missouri", value:2}, {name: "milky way", value:2}, {name: "iran", value:2}, {name: "mexican", value:2}, {name: "cayman islands", value:2}, {name: "argentina", value:2}, {name: "communities", value:2}, {name: "central america", value:2}, {name: "yolo county", value:2}, {name: "americas", value:2}, {name: "u.s", value:2}, {name: "switzerland", value:2}, {name: "river", value:2}, {name: "prague", value:2}, {name: "o'ahu", value:2}, {name: "czech republic", value:2}, {name: "tennessee", value:2}]),
            symbolSize: 12,
            label: {
                normal: {
                    show: false
                },
                emphasis: {
                    show: false
                }
            },
            itemStyle: {
                emphasis: {
                    borderColor: '#fff',
                    borderWidth: 1
                }
            }
        }
    ]
}
myChart.setOption(option);
    </script>
</body>
</html>